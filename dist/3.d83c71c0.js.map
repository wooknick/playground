{"version":3,"sources":["3.js"],"names":["getLength","x0","y0","x1","y1","x","y","Math","sqrt","getDegAngle","atan2","PI","DECAY","SPREAD","GRAVITY","ConfettiCannon","canvas","document","getElementById","dpr","window","devicePixelRatio","ctx","getContext","scale","confettiSpriteIds","confettiSprites","drawVector","vector","innerWidth","innerHeight","pointer","render","bind","handleMousedown","handleMouseup","handleMousemove","handleTouchstart","handleTouchmove","setCanvasSize","setupListeners","timer","setTimeout","TweenLite","ticker","addEventListener","width","height","style","event","clearTimeout","clientX","clientY","preventDefault","touches","length","angle","particles","velocity","addConfettiParticles","changedTouches","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","amount","i","r","_","random","d","cr","cg","cb","color","tilt","tiltAngleIncremental","tiltAngle","id","uniqueId","sprite","Object","assign","push","tweenConfettiParticle","minAngle","maxAngle","minVelocity","maxVelocity","gravity","friction","to","physics2D","ease","Power4","easeIn","onComplete","pull","sin","cos","map","updateConfettiParticle","centerX","centerY","radius","arc","fillStyle","fill","clearRect","drawVectorLine","drawPower","drawPointer","drawConfetti","confetti"],"mappings":"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","file":"3.d83c71c0.js","sourceRoot":"../200223","sourcesContent":["// utilities\nfunction getLength(x0, y0, x1, y1) {\n  // returns the length of a line segment\n  const x = x1 - x0;\n  const y = y1 - y0;\n  return Math.sqrt(x * x + y * y);\n}\n\nfunction getDegAngle(x0, y0, x1, y1) {\n  const y = y1 - y0;\n  const x = x1 - x0;\n  return Math.atan2(y, x) * (180 / Math.PI);\n}\n\n// some constants\nconst DECAY = 4; // confetti decay in seconds\nconst SPREAD = 60; // degrees to spread from the angle of the cannon\nconst GRAVITY = 1200;\n\nclass ConfettiCannon {\n  constructor() {\n    // setup a canvas\n    this.canvas = document.getElementById(\"canvas\");\n    this.dpr = window.devicePixelRatio || 1;\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.ctx.scale(this.dpr, this.dpr);\n\n    // add confetti here\n    this.confettiSpriteIds = [];\n    this.confettiSprites = {};\n\n    // vector line representing the firing angle\n    this.drawVector = false;\n    this.vector = [\n      {\n        x: window.innerWidth,\n        y: window.innerHeight * 1.25\n      },\n      {\n        x: window.innerWidth,\n        y: window.innerHeight * 2\n      }\n    ];\n\n    this.pointer = {};\n\n    // bind methods\n    this.render = this.render.bind(this);\n    this.handleMousedown = this.handleMousedown.bind(this);\n    this.handleMouseup = this.handleMouseup.bind(this);\n    this.handleMousemove = this.handleMousemove.bind(this);\n    this.handleTouchstart = this.handleTouchstart.bind(this);\n    this.handleTouchmove = this.handleTouchmove.bind(this);\n    this.setCanvasSize = this.setCanvasSize.bind(this);\n\n    this.setupListeners();\n    this.setCanvasSize();\n\n    // fire off for a demo\n    this.timer = setTimeout(this.handleMouseup, 1000);\n  }\n\n  setupListeners() {\n    // Use TweenLite tick event for the render loop\n    TweenLite.ticker.addEventListener(\"tick\", this.render);\n\n    // bind events\n    window.addEventListener(\"mousedown\", this.handleMousedown);\n    window.addEventListener(\"mouseup\", this.handleMouseup);\n    window.addEventListener(\"mousemove\", this.handleMousemove);\n    window.addEventListener(\"touchstart\", this.handleTouchstart);\n    window.addEventListener(\"touchend\", this.handleMouseup);\n    window.addEventListener(\"touchmove\", this.handleTouchmove);\n    window.addEventListener(\"resize\", this.setCanvasSize);\n  }\n\n  setCanvasSize() {\n    this.canvas.width = window.innerWidth * this.dpr;\n    this.canvas.height = window.innerHeight * this.dpr;\n    this.canvas.style.width = window.innerWidth + \"px\";\n    this.canvas.style.height = window.innerHeight + \"px\";\n  }\n\n  handleMousedown(event) {\n    clearTimeout(this.timer);\n    const x = event.clientX * this.dpr;\n    const y = event.clientY * this.dpr;\n\n    this.vector[0] = {\n      x,\n      y\n    };\n    this.drawVector = true;\n  }\n\n  handleTouchstart(event) {\n    clearTimeout(this.timer);\n    event.preventDefault();\n    const x = event.touches[0].clientX * this.dpr;\n    const y = event.touches[0].clientY * this.dpr;\n    this.vector[0] = {\n      x,\n      y\n    };\n\n    this.drawVector = true;\n  }\n\n  handleMouseup(event) {\n    this.drawVector = false;\n\n    const x0 = this.vector[0].x;\n    const y0 = this.vector[0].y;\n    const x1 = this.vector[1].x;\n    const y1 = this.vector[1].y;\n\n    const length = getLength(x0, y0, x1, y1);\n    const angle = getDegAngle(x0, y0, x1, y1) + 180;\n\n    const particles = length / 5 + 5;\n    const velocity = length * 10;\n    this.addConfettiParticles(particles, angle, velocity, x0, y0);\n  }\n\n  handleMousemove(event) {\n    const x = event.clientX * this.dpr;\n    const y = event.clientY * this.dpr;\n    this.vector[1] = {\n      x,\n      y\n    };\n    this.pointer = this.vector[1];\n  }\n\n  handleTouchmove(event) {\n    event.preventDefault();\n    const x = event.changedTouches[0].clientX * this.dpr;\n    const y = event.changedTouches[0].clientY * this.dpr;\n    this.vector[1] = {\n      x,\n      y\n    };\n    this.pointer = this.vector[1];\n  }\n\n  drawVectorLine() {\n    this.ctx.strokeStyle = \"pink\";\n    this.ctx.lineWidth = 2 * this.dpr;\n\n    const x0 = this.vector[0].x;\n    const y0 = this.vector[0].y;\n    const x1 = this.vector[1].x;\n    const y1 = this.vector[1].y;\n\n    this.ctx.beginPath();\n    this.ctx.moveTo(x0, y0);\n    this.ctx.lineTo(x1, y1);\n    this.ctx.stroke();\n  }\n\n  addConfettiParticles(amount, angle, velocity, x, y) {\n    let i = 0;\n    while (i < amount) {\n      // sprite\n      const r = _.random(4, 6) * this.dpr;\n      const d = _.random(15, 25) * this.dpr;\n\n      const cr = _.random(30, 255);\n      const cg = _.random(30, 230);\n      const cb = _.random(30, 230);\n      const color = `rgb(${cr}, ${cg}, ${cb})`;\n\n      const tilt = _.random(10, -10);\n      const tiltAngleIncremental = _.random(0.07, 0.05);\n      const tiltAngle = 0;\n\n      const id = _.uniqueId();\n      const sprite = {\n        [id]: {\n          angle,\n          velocity,\n          x,\n          y,\n          r,\n          d,\n          color,\n          tilt,\n          tiltAngleIncremental,\n          tiltAngle\n        }\n      };\n\n      Object.assign(this.confettiSprites, sprite);\n      this.confettiSpriteIds.push(id);\n      this.tweenConfettiParticle(id);\n      i++;\n    }\n  }\n\n  tweenConfettiParticle(id) {\n    const minAngle = this.confettiSprites[id].angle - SPREAD / 2;\n    const maxAngle = this.confettiSprites[id].angle + SPREAD / 2;\n\n    const minVelocity = this.confettiSprites[id].velocity / 4;\n    const maxVelocity = this.confettiSprites[id].velocity;\n\n    // Physics Props\n    const velocity = _.random(minVelocity, maxVelocity);\n    const angle = _.random(minAngle, maxAngle);\n    const gravity = GRAVITY;\n    const friction = _.random(0.1, 0.25);\n    const d = 0;\n\n    TweenLite.to(this.confettiSprites[id], DECAY, {\n      physics2D: {\n        velocity,\n        angle,\n        gravity,\n        friction\n      },\n      d,\n      ease: Power4.easeIn,\n      onComplete: () => {\n        // remove confetti sprite and id\n        _.pull(this.confettiSpriteIds, id);\n        delete this.confettiSprites[id];\n      }\n    });\n  }\n\n  updateConfettiParticle(id) {\n    const sprite = this.confettiSprites[id];\n\n    const tiltAngle = 0.0005 * sprite.d;\n\n    sprite.angle += 0.01;\n    sprite.tiltAngle += tiltAngle;\n    sprite.tiltAngle += sprite.tiltAngleIncremental;\n    sprite.tilt = Math.sin(sprite.tiltAngle - sprite.r / 2) * sprite.r * 2;\n    sprite.y += Math.sin(sprite.angle + sprite.r / 2) * 2;\n    sprite.x += Math.cos(sprite.angle) / 2;\n  }\n\n  drawConfetti() {\n    this.confettiSpriteIds.map(id => {\n      const sprite = this.confettiSprites[id];\n\n      this.ctx.beginPath();\n      this.ctx.lineWidth = sprite.d / 2;\n      this.ctx.strokeStyle = sprite.color;\n      this.ctx.moveTo(sprite.x + sprite.tilt + sprite.r, sprite.y);\n      this.ctx.lineTo(\n        sprite.x + sprite.tilt,\n        sprite.y + sprite.tilt + sprite.r\n      );\n      this.ctx.stroke();\n\n      this.updateConfettiParticle(id);\n    });\n  }\n\n  drawPointer() {\n    const centerX = this.pointer.x;\n    const centerY = this.pointer.y;\n    const radius = 15 * this.dpr;\n\n    this.ctx.beginPath();\n    this.ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);\n    this.ctx.fillStyle = \"transparent\";\n    this.ctx.fill();\n    this.ctx.lineWidth = 2 * this.dpr;\n    this.ctx.strokeStyle = \"#ffffff\";\n    this.ctx.stroke();\n  }\n\n  drawPower() {\n    const x0 = this.vector[0].x;\n    const y0 = this.vector[0].y;\n    const x1 = this.vector[1].x;\n    const y1 = this.vector[1].y;\n\n    const length = getLength(x0, y0, x1, y1);\n    const centerX = x0;\n    const centerY = y0;\n    const radius = (1 * this.dpr * length) / 20;\n\n    this.ctx.beginPath();\n    this.ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);\n    this.ctx.fillStyle = \"transparent\";\n    this.ctx.fill();\n    this.ctx.lineWidth = 2 * this.dpr;\n    this.ctx.strokeStyle = \"#333333\";\n    this.ctx.stroke();\n  }\n\n  render() {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\n    // only draw the vector when the drawVector flag is on\n    this.drawVector && this.drawVectorLine();\n    this.drawVector && this.drawPower();\n\n    this.drawPointer();\n    this.drawConfetti();\n  }\n}\n\nconst confetti = new ConfettiCannon();\n"]}